<div class="container px-5">
  <h1 class="text-center">{{customer && customer.id ? "Edit Customer" : "Add Customer"}}</h1>

  <!-- <p>Debugging info</p>
  <p>Customer: {{customer | json}}</p>
  <p>Errors: {{formErrors | json}}</p> -->

  <form class="px-5 py-5" novalidate [formGroup]="form" (ngSubmit)="formSubmit()" *ngIf="customer">
    <div class="form-row">
      <div class="form-group float-right">
          <img class="my-2 rounded-circle mx-auto"
          style="width: 8rem; height: 8rem;"
          src={{customer.imageUrl}}
          alt="image"
          >
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-6">
        <label for="name">Name</label>
        <input [(ngModel)]="customer.name" class="form-control" formControlName="name" type="text" />
        <span [hidden]="!formErrors.name">{{formErrors.name}}</span>
      </div>
      <div class="form-group col-6">
        <label for="documentId">Document Id</label>
        <input [(ngModel)]="customer.documentId" class="form-control" formControlName="documentId" placeholder="Document Id" type="text" />
        <span [hidden]="!formErrors.documentId">{{formErrors.documentId}}</span>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-6">
          <label for="gender">Gender</label>
          <select [(ngModel)]="customer.gender" class="form-control" formControlName="gender" >
            <option *ngFor="let g of genders" [ngValue]="g">{{g}}</option>
          </select>
          <span [hidden]="!formErrors.gender">{{formErrors.gender}}</span>
        </div>
        <div class="form-group col-4">
          <label for="birthDay">Birth Day</label>
          <input [(ngModel)]="customer.birthDay" class="form-control" formControlName="birthDay" type="text" />
          <span [hidden]="!formErrors.birthDay">{{formErrors.birthDay}}</span>
        </div>
        <div class="form-group col-2">
          <label for="status">Status</label>
          <select [(ngModel)]="customer.status" class="form-control" formControlName="status" >
            <option *ngFor="let s of statuses" [ngValue]="s">{{s}}</option>
          </select>
          <span [hidden]="!formErrors.status">{{formErrors.status}}</span>
        </div>
    </div>
    <div class="form-row">
      <div class="form-group col-4">
        <label for="address">Address</label>
        <input [(ngModel)]="customer.address" class="form-control" formControlName="address" type="text" />
        <span [hidden]="!formErrors.address">{{formErrors.address}}</span>
      </div>
      <div class="form-group col-4">
        <label for="emailAddress">Email Address</label>
        <input [(ngModel)]="customer.emailAddress" class="form-control" formControlName="emailAddress" type="text" />
        <span [hidden]="!formErrors.emailAddress">{{formErrors.emailAddress}}</span>
      </div>
      <div class="form-group col-4">
        <label for="phoneNumber">Phone Number</label>
        <input [(ngModel)]="customer.phoneNumber" class="form-control" formControlName="phoneNumber" type="text" />
        <span [hidden]="!formErrors.phoneNumber">{{formErrors.phoneNumber}}</span>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-2">
        <label for="height">Height</label>
        <input [(ngModel)]="customer.height" class="form-control" formControlName="height" type="text" />
        <span [hidden]="!formErrors.height">{{formErrors.height}}</span>
      </div>
      <div class="form-group col-md-6">
          <label for="status">Upload photo</label>
          <input [(ngModel)]="customer.imageUrl" type="file" formControlName="photo" class="form-control">
          <span [hidden]="!formErrors.photo"></span>
      </div>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Save</button>
  </form>
  <app-loading *ngIf="!customer && !error"></app-loading>
  <app-error *ngIf="error" [error]="error"></app-error>
</div>
